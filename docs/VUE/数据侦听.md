---
sidebar: auto
---

# 数据侦听
 
## 前言 

相信很多同学喜欢Vue的原因是 ： 简单， 易懂， 易上手。 
 
因为在使用Vue时，我们只需要改变对应的数据，页面就会重新渲染，不需要操作大量的DOM，极大的解放了我们开发者，而这种思想也被称为数据驱动（数据驱动视图）。

这种方式大大的简化了我们代码量，尤其是当交互特别复杂的时候，只需要关心数据的修改会让代码逻辑变得非常清晰。这样的代码也利于维护。

##  Object.defineProperty

在上面我们讲到使用Vue 时，只需要操作修改对应的数据，页面就会自动渲染。那么问题来了：Vue是怎么知道我修改了数据呢？
 
那么这就跟 ES5 的 Object.defineProperty 有关了，这也是Vue为什么不能支持IE8及以下的浏览器的原因之一。

接下来我们来详细了解下 Object.defineProperty

根据MDN 的解释是： Object.defineProperty() 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回此对象。
 
::: warning
备注：应当直接在 Object 构造器对象上调用此方法，而不是在任意一个 Object 类型的实例上调用
:::

描述：
```js 
    Object.defineProperty(Object,key,{ 
        configurable: false,    // 数据是否可删除，可配置
        enumerable: false,      // 数据是否可枚举
        value:undefined,        // 属性值
        writable:false,         // 是否可读写 
        get:undefined,          // 属性的getter函数，当访问属性时，会调用此函数
        set:undefined,          // 属性的setter函数，当修改属性时，会调用此函数
    }) 
```
参数：

    1. 要定义属性的对象

    2. 要定义或修改的属性名

    3. 要定义或修改的属性描述符

 需要注意的是：如果一个描述符同时拥有value 或 writable  和 get 或 set键，则会产生一个异常

例子：

```js
    const obj = {};
    let val = '熊猫' 
    Object.defineProperty( obj, 'name', {   
        get(){
             console.log('获取 value 值')
            return  val
        },
        set(newVlaue){
            console.log('设置了 value 值')
            val = newVlaue
        }
    })

```


